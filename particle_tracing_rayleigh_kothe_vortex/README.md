# Particle tracing: Rayleigh-Kothe vortex
<img src="figures/flow_field_frames/flow_field.0000.png" height="200">

## Requirements
For building and running the particle tracing:
- C++ toolchain (tested with [GCC](https://gcc.gnu.org/) version 13.3.0)
- [CMake](https://cmake.org/) (tested with version 3.30.3)
- [deal.II](https://www.dealii.org/) (tested with version 9.6.2)
- [preCICE](https://precice.org/) (tested with version 3.2.0)

For post-processing the results:
- Python (tested with 3.12.7)
- Python packages listed in `requirements.txt`
- Jupyter Notebook

## Contents
### `ParticleTracing.cc`
The source code of the particle tracing participant.

### `experiments/`
Contains subdirectories for each experiment.

Each experiment comes with:
- A `generate.py` script that sets up the directory structure and generates the necessary configuration files for the experiment.
- A `clean.sh` script that removes all files generated by the experiment.
- A `run.py` script that runs the experiment.
- One or more `.ipynb`-notebooks that are used to post-process the results generated by the experiment (e.g., create plots).

Each experiment consists of one or more runs (instances of the particle tracing with different parameters).
The runs are organized in subdirectories.
Each directory level coresponds to one parameter.
E.g. the `euler_explicit/nearest-neighbor/timestep-0.01/refinement-4/` directory contains the run with the paramenters: `euler_explicit` integration scheme, `nearest-neighbor` mapping, `0.01` timestep size and `4` grid refinement steps.

### `figures/`
Figures and animations from the thesis and accompanying presentations.

## Running experiments
First, build the particle tracing participant.
```sh
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Release ..
cmake --build .
```
Then, navigate to the experiment directory and run the provided scripts.
```sh
cd ../experiments/convergence_under_grid_refinement
./clean.sh
python generate.py
python run.py
```
After the runs are finished, use the provided Jupyter notebooks to post-process the results.
