# CFD-DEM: single particle sedimentation
This is the single particle sedimentation scenario from Section 4.3 of the bachelor's thesis thesis *Flexible mesh-particle coupling with preCICE* by Robin Walloner.

## Contents

### `template/` and `generate.py`
The `generate.py` script generates instances of the single particle sedimentation case from the blueprint found within `template/`.
To generate one or more runs, modify the parameters and logic found at the end of `generate.py` and run the script.
The runs are generated in the `runs/` directory.

### `run.py`
Executes the runs within the `runs/` directory.
By default, all runs are executet.
To execute select runs, pass their paths as arguments like this:
```sh
python run.py runs/run-1 runs/run-2
```

### `runs/`
Contains the case instances generated by `generate.py`.

### `plot_particle_velocity.py`
Generate the particle velocity plot from the results within the `runs/` directory.

### `reference_data/`
Data from [Song and Park](https://doi.org/10.3390/jmse8120983) we use to validate against.

### `figures/`
Figures from the thesis.

## Reproducing results

### Requirements
- [preCICE](https://precice.org/installation-overview.html) with support for coarse-graining (tested with the version provided in this dataset)
- Our modified version of LIGGGHTS
- [OpenFOAM](https://www.openfoam.com/current-release) (tested with version 2412)
- Our AndersonJacksonFoam solver
- Our modified version of the [OpenFOAM-preCICE adapter](https://precice.org/adapter-openfoam-get.html)
- [Python](https://www.python.org/downloads/) (tested with version 3.13.5)
- [Python packages](https://packaging.python.org/en/latest/guides/installing-using-pip-and-virtual-environments/#using-a-requirements-file) listed in `requirements.txt`

### Running
Generate one or more runs with:
```sh
python generate.py
```
Then run them with:
```sh
python run.py
```
Alternatively, you can run manually by opening two separate terminals, navigating to a run and using the provided `run.sh` scripts.

Now, you can plot the results using:
```sh
python plot_particle_velocity.py
```


